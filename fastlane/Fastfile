desc "æäº¤ä¸€ä¸ªç§æœ‰åº“"
lane :AutoPod do |options|
target_version = options[:t]
project        = options[:p]
verbose        = options[:v]
path           = "#{project}.podspec"

cocoapods(
clean: true,
podfile: "./Example/Podfile"
)  # pod install é‡æ–°å®‰è£…ä¸€ä¸‹ä»£ç 
git_add(path: ".") # git add .
git_commit(path: ".", message: target_version) # git commit -m 'xxx'
push_to_git_remote # git push origin master

if git_tag_exists(tag: target_version)
UI.message("å·²ç»å­˜åœ¨è¿™ä¸ªæ ‡ç­¾, å¤„ç†æ“ä½œ: åˆ é™¤æœ¬åœ°&è¿œç¨‹æ ‡ç­¾#{target_version} ğŸš€")
remove_tag(tagName: target_version, dR:true, dL:true)
end

add_git_tag(tag: target_version) # git tag -a xx
push_to_git_remote # git push --tags

pod_push(
path: path,
allow_warnings: true,
use_libraries: true,
verbose: verbose
) # æäº¤åˆ°ç§æœ‰ä»“åº“

end

